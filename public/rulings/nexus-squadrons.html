<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>KARM Rulings Book</title>
    <link rel="preload" href="/rulings/fonts/optima.woff?v=rulings-v1" as="font" type="font/woff" crossorigin />
    <link rel="preload" href="/rulings/fonts/optima-italic.woff?v=rulings-v1" as="font" type="font/woff" crossorigin />
    <link rel="preload" href="/rulings/fonts/optima-bold.woff?v=rulings-v1" as="font" type="font/woff" crossorigin />
    <link rel="preload" href="/rulings/fonts/RevengerLiteBB.woff?v=rulings-v1" as="font" type="font/woff" crossorigin />
    <link rel="preload" href="/rulings/fonts/TeutonFett.woff?v=rulings-v1" as="font" type="font/woff" crossorigin />
    <link rel="preload" href="/rulings/fonts/icons.woff?v=rulings-v1" as="font" type="font/woff" crossorigin />
    <style>
      :root { --page-background: url('/rulings/assets/rulebook-background.webp?v=rulings-v1'); }
      
@font-face {
  font-family: 'OptimaCustom';
  src: url('/rulings/fonts/optima.woff?v=rulings-v1') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'OptimaCustom';
  src: url('/rulings/fonts/optima-italic.woff?v=rulings-v1') format('woff');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'OptimaCustom';
  src: url('/rulings/fonts/optima-bold.woff?v=rulings-v1') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'AeroMaticsDisplay';
  src: url('/rulings/fonts/fighter-keyword.woff?v=rulings-v1') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'AeroMaticsDisplay';
  src: url('/rulings/fonts/fighter-keyword.woff?v=rulings-v1') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'TeutonFett';
  src: url('/rulings/fonts/TeutonFett.woff?v=rulings-v1') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'RevengerLite';
  src: url('/rulings/fonts/RevengerLiteBB.woff?v=rulings-v1') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Icons';
  src: url('/rulings/fonts/icons.woff?v=rulings-v1') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'ArmadaIcons';
  src: url('/rulings/fonts/icons.woff?v=rulings-v1') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
      :root {
  --page-width: 2194px;
  --page-height: 2820px;
  --page-scale: 1;
  --page-padding-y: 120px;
  --page-padding-x: 129px;
  --page-gap: 24px;
  --ink: #221e1d;
  --accent: #24408f;
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  color: var(--ink);
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
  background: #444;
}

.toc-fab {
  position: fixed;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 30;
  border: 0;
  border-radius: 999px;
  width: 56px;
  height: 56px;
  padding: 0;
  background: #24408f;
  color: #fff;
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.28);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.hamburger {
  display: inline-flex;
  flex-direction: column;
  justify-content: center;
  gap: 5px;
}

.hamburger > span {
  display: block;
  width: 24px;
  height: 3px;
  border-radius: 999px;
  background: #fff;
}

.toc-drawer {
  position: fixed;
  top: 0;
  right: 0;
  width: min(380px, 88vw);
  height: 100vh;
  z-index: 29;
  background: rgba(245, 242, 235, 0.98);
  border-left: 1px solid rgba(36, 64, 143, 0.25);
  box-shadow: -16px 0 40px rgba(0, 0, 0, 0.2);
  padding: 18px 16px 24px;
  overflow: auto;
  transform: translateX(104%);
  transition: transform 180ms ease;
}

body.toc-open .toc-drawer {
  transform: translateX(0);
}

.toc-title {
  font-family: "TeutonFett", "AeroMaticsDisplay", sans-serif;
  font-size: 36px;
  margin: 0 0 10px;
}

.toc-link {
  display: block;
  color: #1f1f1f;
  text-decoration: none;
  padding: 8px 4px;
  border-bottom: 1px solid rgba(36, 64, 143, 0.15);
  font-size: 20px;
  line-height: 1.2;
}

.toc-link:hover {
  color: #24408f;
}

.toc-link.toc-sub {
  padding-left: 16px;
  font-size: 17px;
}

.toc-section-label {
  font-family: "TeutonFett", "AeroMaticsDisplay", sans-serif;
  font-size: 20px;
  color: var(--accent);
  padding: 12px 4px 4px;
  letter-spacing: 0.02em;
}

/* ── Search FAB ── */

.search-fab {
  position: fixed;
  right: 10px;
  top: calc(50% + 70px);
  transform: translateY(-50%);
  z-index: 30;
  border: 0;
  border-radius: 999px;
  width: 56px;
  height: 56px;
  padding: 0;
  background: #24408f;
  color: #fff;
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.28);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.search-fab svg {
  display: block;
}

/* ── Search drawer ── */

.search-drawer {
  position: fixed;
  top: 0;
  right: 0;
  width: min(380px, 88vw);
  height: 100vh;
  z-index: 29;
  background: rgba(245, 242, 235, 0.98);
  border-left: 1px solid rgba(36, 64, 143, 0.25);
  box-shadow: -16px 0 40px rgba(0, 0, 0, 0.2);
  padding: 18px 16px 24px;
  overflow: auto;
  transform: translateX(104%);
  transition: transform 180ms ease;
}

body.search-open .search-drawer {
  transform: translateX(0);
}

.search-drawer-title {
  font-family: "TeutonFett", "AeroMaticsDisplay", sans-serif;
  font-size: 36px;
  margin: 0 0 16px;
}

.search-input {
  width: 100%;
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
  font-size: 18px;
  padding: 10px 12px;
  border: none;
  border-bottom: 2px solid rgba(36, 64, 143, 0.35);
  background: transparent;
  outline: none;
  color: #221e1d;
  margin-bottom: 18px;
}

.search-input:focus {
  border-bottom-color: #24408f;
}

.search-input::placeholder {
  color: #999;
}

/* ── Faction filter buttons ── */

.faction-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 12px;
}

.faction-btn {
  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 2px solid #ccc;
  background: #e8e5de;
  color: #999;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background 120ms, border-color 120ms, color 120ms;
  padding: 0;
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
}

.faction-btn .icon-font {
  font-size: 22px;
  line-height: 1;
}

.faction-btn[data-faction="all"] {
  font-size: 15px;
  letter-spacing: 0.02em;
}

.faction-btn.active {
  border-color: #24408f;
  background: #24408f;
  color: #fff;
}

.faction-btn.faction-rebel.active {
  background: #c0392b;
  border-color: #c0392b;
}

.faction-btn.faction-empire.active {
  background: #2e7d32;
  border-color: #2e7d32;
}

.faction-btn.faction-republic.active {
  background: #b8860b;
  border-color: #b8860b;
}

.faction-btn.faction-separatist.active {
  background: #1565c0;
  border-color: #1565c0;
}

.faction-btn.faction-neutral.active {
  background: #666;
  border-color: #666;
}

.search-result-count {
  font-size: 14px;
  color: #666;
  padding: 4px 0;
}

/* ── Filtered-out cards and dividers ── */

.karm-card.filtered-out,
.card-divider.filtered-out {
  display: none;
}

.no-results {
  text-align: center;
  padding: 48px 24px;
  font-size: 18px;
  color: #666;
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
  display: none;
}

.no-results.visible {
  display: block;
}

@media (max-width: 760px) {
  .toc-fab {
    top: auto;
    bottom: 14px;
    right: 14px;
    transform: none;
  }

  .search-fab {
    top: auto;
    bottom: 80px;
    right: 14px;
    transform: none;
  }
}

@page {
  size: 2194px 2820px;
  margin: 0;
}

.karm-book {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 8px;
}

.karm-page-shell {
  display: flex;
  justify-content: center;
  width: 100%;
  height: calc(var(--page-height) * var(--page-scale));
  overflow: hidden;
}

.karm-page {
  width: var(--page-width);
  height: var(--page-height);
  margin: 0;
  display: flex;
  flex-direction: column;
  position: relative;
  isolation: isolate;
  overflow: hidden;
  background-color: #f5f2eb;
  background-image: var(--page-background);
  background-size: cover;
  background-repeat: no-repeat;
  padding: var(--page-padding-y) var(--page-padding-x);
  gap: var(--page-gap);
  transform: scale(var(--page-scale));
  transform-origin: top center;
}

.karm-static-page {
  width: 100%;
  height: 100%;
}

.page-body {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 56px;
}

.page-number {
  position: absolute;
  right: 88px;
  bottom: 76px;
  color: var(--accent);
  font-size: 54px;
  line-height: 1;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  font-family: "RevengerLite", Impact, sans-serif;
}

.karm-card {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 14px;
  break-inside: avoid;
  page-break-inside: avoid;
}

.card-top {
  display: flex;
  gap: 25px;
  min-height: 500px;
}

.card-image-wrap {
  width: 350px;
  min-width: 350px;
}

.card-image {
  width: 350px;
  height: 498px;
  border-radius: 14px;
  object-fit: cover;
  background: #d9d9d9;
  border: 1px solid rgba(0, 0, 0, 0.15);
}

.card-image.fallback {
  display: flex;
  align-items: center;
  justify-content: center;
  color: #666;
  font-style: italic;
}

.card-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.card-title {
  font-family: "TeutonFett", "Teuton Fett", "AeroMaticsDisplay", "Arial Narrow", sans-serif;
  font-size: 52px;
  line-height: 1.04;
  letter-spacing: -0.045em;
  font-variant: small-caps;
  text-transform: none;
  margin: 0;
}

.card-meta {
  font-size: 29px;
  line-height: 1.2;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 12px;
}

.card-faction-icon {
  width: 34px;
  height: 34px;
  object-fit: contain;
  vertical-align: middle;
}

.card-body,
.card-keywords,
.card-rulings {
  font-weight: 400;
  font-size: 29px;
  line-height: 35px;
  letter-spacing: 0.006em;
}

.card-keywords {
  font-size: 27px;
}

.card-keyword-label {
  font-family: "AeroMaticsDisplay", "RevengerLite", "Trajan Pro", Georgia, serif;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  color: var(--accent);
  margin-right: 8px;
}

.squadron-keywords .squadron-keyword-values,
.squadron-keywords .squadron-keyword-token {
  font-family: "AeroMaticsDisplay", "RevengerLite", "Trajan Pro", Georgia, serif;
  font-weight: 700;
}

.squadron-keywords .squadron-keyword-token {
  letter-spacing: 0.01em;
}

.card-bottom {
  font-weight: 400;
  font-size: 29px;
  line-height: 35px;
  letter-spacing: 0.006em;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.top-summary {
  display: flex;
  flex-direction: column;
  gap: 18px;
  margin-top: 6px;
}

.top-summary-block {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.top-summary-label {
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
  font-size: 46px;
  font-weight: 700;
  line-height: 1.05;
  text-transform: capitalize;
}

.top-summary-text {
  font-size: 29px;
  line-height: 1.22;
  font-weight: 400;
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
}

.top-summary-text p {
  margin: 0;
}

.ruling-section {
  break-inside: avoid;
  page-break-inside: avoid;
}

.ruling-heading {
  margin: 0 0 2px;
  font-size: 46px;
  line-height: 1.1;
  font-family: "OptimaCustom", Optima, "Segoe UI", Arial, sans-serif;
  font-weight: 700;
  color: #202020;
}

.ruling-content {
  margin: 0;
}

.ruling-content p {
  margin: 0 0 6px;
  font-weight: 400;
}

.ruling-content ul {
  margin: 0;
  padding-left: 32px;
}

.ruling-content li,
.ruling-content li p,
.card-text-content,
.card-text-content p {
  font-weight: 400;
}

.footnote-ref {
  display: inline-block;
  font-size: 0.72em;
  line-height: 0;
  vertical-align: baseline;
  transform: translateY(-0.38em);
  margin-left: 0.12em;
}

.card-text-content p {
  margin: 0 0 8px;
}

.icon-font {
  font-family: "Icons", "ArmadaIcons", "RevengerLite", sans-serif;
  font-style: normal;
  font-weight: 400;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  speak: never;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: inline-block;
}

.ruling-footnotes {
  margin-top: 14px;
  border-top: 1px solid rgba(36, 64, 143, 0.3);
  padding-top: 8px;
  font-size: 18px;
  line-height: 1.35;
  font-weight: 400;
}

.karm-header-card {
  min-height: 760px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.section-header-title {
  font-size: 116px;
  line-height: 1;
  letter-spacing: 0.02em;
  text-transform: uppercase;
  color: var(--accent);
  font-family: "RevengerLite", "Trajan Pro", Georgia, serif;
}

.ruling-content blockquote {
  margin: 8px 0;
  padding: 6px 0 6px 18px;
  border-left: 5px solid rgba(36, 64, 143, 0.4);
  font-style: italic;
}

.ruling-content code {
  font-family: "SFMono-Regular", Consolas, monospace;
  background: rgba(0, 0, 0, 0.05);
  padding: 0 4px;
  border-radius: 4px;
}

.keyword-name {
  font-family: "AeroMaticsDisplay", "RevengerLite", sans-serif;
  font-weight: 400;
  font-style: normal;
}

/* ── Continuous responsive web layout ── */

body.karm-web {
  background: #f5f2eb;
  background-image: var(--page-background);
  background-size: cover;
  background-position: center top -60px;
  background-attachment: fixed;
  background-repeat: no-repeat;
  overflow-x: hidden;
}

body.karm-web .karm-book {
  max-width: 960px;
  width: 100%;
  margin: 0 auto;
  padding: 32px 24px;
  gap: 0;
  overflow-wrap: break-word;
  word-wrap: break-word;
}

body.karm-web .karm-page-shell,
body.karm-web .karm-page {
  display: none;
}

body.karm-web .karm-continuous {
  display: flex;
  flex-direction: column;
  gap: 0;
}

body.karm-web .page-number {
  display: none;
}

/* ── Card layout ── */

body.karm-web .karm-card {
  max-width: 100%;
}

body.karm-web .card-top {
  min-height: auto;
  gap: 20px;
}

body.karm-web .card-main {
  min-width: 0;
  flex: 1;
}

body.karm-web .card-image-wrap {
  width: 220px;
  min-width: 220px;
  flex-shrink: 0;
}

body.karm-web .card-image {
  width: 220px;
  height: 312px;
  max-width: 100%;
  border-radius: 10px;
}

/* ── Typography ── */

body.karm-web .card-title {
  font-size: 28px;
  letter-spacing: -0.03em;
}

body.karm-web .card-meta {
  font-size: 16px;
  gap: 8px;
}

body.karm-web .card-body,
body.karm-web .card-keywords,
body.karm-web .card-rulings,
body.karm-web .card-bottom {
  font-size: 16px;
  line-height: 1.5;
}

body.karm-web .card-keywords {
  font-size: 15px;
}

body.karm-web .top-summary-label {
  font-size: 24px;
}

body.karm-web .top-summary-text {
  font-size: 16px;
  line-height: 1.45;
}

body.karm-web .ruling-heading {
  font-size: 24px;
}

body.karm-web .ruling-content ul {
  padding-left: 24px;
}

body.karm-web .ruling-footnotes {
  font-size: 13px;
}

body.karm-web .section-header-title {
  font-size: 48px;
}

body.karm-web .karm-header-card {
  min-height: 120px;
  padding: 24px 0;
}

body.karm-web .card-divider {
  border: none;
  border-top: 1px solid rgba(36, 64, 143, 0.2);
  margin: 28px 0;
}

/* ── Tablet ── */

@media (max-width: 768px) {
  body.karm-web .karm-book {
    padding: 24px 16px;
  }

  body.karm-web .card-top {
    flex-direction: column;
    align-items: flex-start;
    gap: 16px;
  }

  body.karm-web .card-image-wrap {
    width: auto;
    min-width: unset;
    flex-shrink: unset;
  }

  body.karm-web .card-image {
    width: 180px;
    height: 256px;
  }

  body.karm-web .card-title {
    font-size: 24px;
  }

  body.karm-web .section-header-title {
    font-size: 36px;
  }

  body.karm-web .karm-header-card {
    min-height: 80px;
    padding: 16px 0;
  }
}

/* ── Mobile ── */

@media (max-width: 480px) {
  body.karm-web .karm-book {
    padding: 16px 12px;
  }

  body.karm-web .card-top {
    align-items: center;
  }

  body.karm-web .card-image {
    width: 160px;
    height: 228px;
  }

  body.karm-web .card-title {
    font-size: 22px;
    text-align: center;
  }

  body.karm-web .card-body,
  body.karm-web .card-keywords,
  body.karm-web .card-rulings,
  body.karm-web .card-bottom {
    font-size: 15px;
    line-height: 1.45;
  }

  body.karm-web .top-summary-label {
    font-size: 20px;
  }

  body.karm-web .ruling-heading {
    font-size: 20px;
  }

  body.karm-web .section-header-title {
    font-size: 28px;
  }

  body.karm-web .card-divider {
    margin: 20px 0;
  }
}

@media print {
  .toc-fab,
  .toc-drawer,
  .search-fab,
  .search-drawer,
  .no-results {
    display: none !important;
  }

  :root {
    --page-scale: 1;
  }

  html,
  body {
    background: transparent;
  }

  .karm-book {
    gap: 0;
    padding: 0;
  }

  .karm-page-shell {
    height: auto;
    overflow: visible;
  }

  .karm-page {
    margin: 0;
    transform: none;
    page-break-after: always;
    break-after: page;
  }

  .karm-page:last-child {
    page-break-after: auto;
    break-after: auto;
  }
}

    </style>
  </head>
  <body class="karm-web">
    
<button type="button" class="toc-fab" aria-label="Open rulings menu" onclick="document.body.classList.toggle('toc-open'); document.body.classList.remove('search-open');">
  <span class="hamburger" aria-hidden="true"><span></span><span></span><span></span></span>
</button>
<aside class="toc-drawer" aria-label="Rulings navigation">
  <div class="toc-title">Rulings</div>
  <a href="/rulings/objectives.html" class="toc-link">Objectives</a>
<a href="/rulings/campaign.html" class="toc-link">Campaign Objectives</a>
<a href="/rulings/damage-cards.html" class="toc-link">Damage Cards</a>
<a href="/rulings/upgrades.html" class="toc-link">Upgrades</a>
<a href="/rulings/squadrons.html" class="toc-link">Ace Squadrons</a>
<div class="toc-section-label">Upgrade Types</div>
<a href="/rulings/upgrades/commander.html" class="toc-link toc-sub">Commander</a>
<a href="/rulings/upgrades/officer.html" class="toc-link toc-sub">Officer</a>
<a href="/rulings/upgrades/weapons-team-offensive-retro.html" class="toc-link toc-sub">Boarding Teams</a>
<a href="/rulings/upgrades/weapons-team.html" class="toc-link toc-sub">Weapons Team</a>
<a href="/rulings/upgrades/offensive-retro.html" class="toc-link toc-sub">Offensive Retrofit</a>
<a href="/rulings/upgrades/defensive-retro.html" class="toc-link toc-sub">Defensive Retrofit</a>
<a href="/rulings/upgrades/turbolaser.html" class="toc-link toc-sub">Turbolaser</a>
<a href="/rulings/upgrades/ion-cannon.html" class="toc-link toc-sub">Ion Cannon</a>
<a href="/rulings/upgrades/ordnance.html" class="toc-link toc-sub">Ordnance</a>
<a href="/rulings/upgrades/fleet-support.html" class="toc-link toc-sub">Fleet Support</a>
<a href="/rulings/upgrades/support-team.html" class="toc-link toc-sub">Support Team</a>
<a href="/rulings/upgrades/experimental-retro.html" class="toc-link toc-sub">Experimental Retrofit</a>
<a href="/rulings/upgrades/fleet-command.html" class="toc-link toc-sub">Fleet Command</a>
<a href="/rulings/upgrades/title.html" class="toc-link toc-sub">Title</a>
<a href="/rulings/upgrades/super-weapon.html" class="toc-link toc-sub">Superweapon</a>
<div class="toc-section-label">Nexus</div>
<a href="/rulings/nexus-upgrades.html" class="toc-link toc-sub">Nexus Upgrades</a>
<a href="/rulings/nexus-squadrons.html" class="toc-link toc-sub">Nexus Squadrons</a>
</aside>
<button type="button" class="search-fab" aria-label="Search cards" onclick="document.body.classList.toggle('search-open'); document.body.classList.remove('toc-open');">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
</button>
<aside class="search-drawer" aria-label="Search and filter">
  <div class="search-drawer-title">Search &amp; Filter</div>
  <input type="text" class="search-input" id="karm-search-input" placeholder="Search cards..." autocomplete="off" />
  <div class="faction-filters" id="karm-faction-filters">
    <button type="button" class="faction-btn active" data-faction="all" aria-label="All factions" title="All">All</button>
    <button type="button" class="faction-btn faction-rebel active" data-faction="rebel" aria-label="Rebel Alliance" title="Rebel"><span class="icon-font">[</span></button>
    <button type="button" class="faction-btn faction-empire active" data-faction="empire" aria-label="Galactic Empire" title="Empire"><span class="icon-font">\</span></button>
    <button type="button" class="faction-btn faction-republic active" data-faction="republic" aria-label="Republic" title="Republic"><span class="icon-font">|</span></button>
    <button type="button" class="faction-btn faction-separatist active" data-faction="separatist" aria-label="Separatist" title="Separatist"><span class="icon-font">}</span></button>
    <button type="button" class="faction-btn faction-neutral active" data-faction="neutral" aria-label="Neutral" title="Neutral">&#9733;</button>
  </div>
  <div class="search-result-count" id="karm-result-count"></div>
</aside>
<div class="no-results" id="karm-no-results">No matching cards found.</div>
    <div class="karm-book">
      
      <div class="karm-continuous">
<article class="karm-card karm-header-card" id="nexus-ace-squadrons-1" data-category="header">
  <div class="section-header-title">Nexus Ace Squadrons <span class="icon-font">8</span></div>
</article>

<article class="karm-card" id="lieutenant-karsabi-2" data-name="lieutenant karsabi" data-factions="empire" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/karsabi-alpha-class-star-wing-squadron-nexus.webp" alt="Lieutenant Karsabi" /></div>
    <div class="card-main">
      <h2 class="card-title">Lieutenant Karsabi <span class="icon-font">\</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">scout</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking a ship, if there is at least 1 friendly unengaged squadron with <span class="keyword-name">Bomber</span> within distance 1 of you, you may add a red die to your attack pool.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="rho-squadron-3" data-name="rho squadron" data-factions="empire" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/rho-squadron-alpha-class-star-wing-squadron-nexus.webp" alt="Rho Squadron" /></div>
    <div class="card-main">
      <h2 class="card-title">Rho Squadron <span class="icon-font">\</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">scout</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking a ship, if there is at least 1 friendly unengaged squadron with <span class="keyword-name">Bomber</span> within distance 1 of you, you may add a red die to your attack pool.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="seventh-sister-4" data-name="seventh sister" data-factions="empire" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/seventh-sister-tie-advanced-v1-nexus.webp" alt="Seventh Sister" /></div>
    <div class="card-main">
      <h2 class="card-title">Seventh Sister <span class="icon-font">\</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">adept 1</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While defending against a unique squadron, when you would reroll a die, you may cancel it instead.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="the-grand-inquisitor-5" data-name="the grand inquisitor" data-factions="empire" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/the-grand-inquisitor-tie-advanced-v1-nexus.webp" alt="The Grand Inquisitor" /></div>
    <div class="card-main">
      <h2 class="card-title">The Grand Inquisitor <span class="icon-font">\</span></h2>
      <div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking a unique squadron, you may set 1 die to any face.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="corran-horn-6" data-name="corran horn" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/corran-horn-e-wing-squadron-new-republic-nexus.webp" alt="Corran Horn" /></div>
    <div class="card-main">
      <h2 class="card-title">Corran Horn </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">snipe 4</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>Once per round, after you perform an attack, you may spend a defense token to perform an additional attack against the same target using an anti-squadron armament of 2 blue dice.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="gavin-darklighter-7" data-name="gavin darklighter" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/gavin-darklighter-e-wing-squadron-new-republic-nexus.webp" alt="Gavin Darklighter" /></div>
    <div class="card-main">
      <h2 class="card-title">Gavin Darklighter </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">snipe 4</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>After an enemy squadron at distance 1-2 of you suffers damage from a squadron attack, you may spend a readied defense token. If you do, the defender suffers 1 damage.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="keyan-farlander-8" data-name="keyan farlander" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/keyan-farlander-b-wing-squadron-new-republic-nexus.webp" alt="Keyan Farlander" /></div>
    <div class="card-main">
      <h2 class="card-title">Keyan Farlander </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">assault</span>, <span class="squadron-keyword-token">bomber</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking a ship, if the defending hull zone has no shields, you may reroll any number of dice in your attack pool.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="luke-skywalker-9" data-name="luke skywalker" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/luke-skywalker-e-wing-squadron-new-republic-nexus.webp" alt="Luke Skywalker" /></div>
    <div class="card-main">
      <h2 class="card-title">Luke Skywalker </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">adept 2</span>, <span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">snipe 4</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking, after you roll your attack pool, if there is an <span class="icon-font">U</span> icon in your attack pool, you may add one die of any color to the attack pool.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="mara-jade-10" data-name="mara jade" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/mara-jade-defender-starfighter-squadron-new-republic-nexus.webp" alt="Mara Jade" /></div>
    <div class="card-main">
      <h2 class="card-title">Mara Jade </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">counter 3</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>Enemy squadrons at distance 1 of you cannot move.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="miranda-doni-11" data-name="miranda doni" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/miranda-doni-k-wing-squadron-new-republic-nexus.webp" alt="Miranda Doni" /></div>
    <div class="card-main">
      <h2 class="card-title">Miranda Doni </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">counter 1</span>, <span class="squadron-keyword-token">scout</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While performing an attack against a squadron,m your may decrease your anti-squadron armament by 1 die to recover 1 hull point, or suffer 1 damage to increase your anti-squadron armament by 1 blue die.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="pash-cracken-12" data-name="pash cracken" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/pash-cracken-a-wing-squadron-new-republic-nexus.webp" alt="Pash Cracken" /></div>
    <div class="card-main">
      <h2 class="card-title">Pash Cracken </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">counter 3</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>Enemy squadrons at distance 1 of you cannot move.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="tycho-celchu-13" data-name="tycho celchu" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/tycho-celchu-x-wing-squadron-new-republic-nexus.webp" alt="Tycho Celchu" /></div>
    <div class="card-main">
      <h2 class="card-title">Tycho Celchu </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">escort</span>, <span class="squadron-keyword-token">grit</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>When a friendly squadron with <span class="keyword-name">Escort</span> at distance 1 is declared as the target of an attack, you may spend 1 defense token to treat the attack as obstructed.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="wedge-antilles-14" data-name="wedge antilles" data-factions="new-republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/wedge-antilles-x-wing-squadron-new-republic-nexus.webp" alt="Wedge Antilles" /></div>
    <div class="card-main">
      <h2 class="card-title">Wedge Antilles </h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">escort</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking an activated squadron, if the defender is engaged with another friendly squadron with <span class="keyword-name">Escort</span>, you may add 2 blue dice to the attack pool.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="cassian-andor-15" data-name="cassian andor" data-factions="rebel" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/cassian-andor-u-wing-nexus.webp" alt="Cassian Andor" /></div>
    <div class="card-main">
      <h2 class="card-title">Cassian Andor <span class="icon-font">[</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">assault</span>, <span class="squadron-keyword-token">intel</span>, <span class="squadron-keyword-token">scout</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While a friendly squadron at distance 1 is defending, you may spend 1 defense token to force the attacker to reroll 1 die of your choice.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="delta-squad-16" data-name="delta squad" data-factions="republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/delta-squad-nu-class-transport-shuttle-nexus.webp" alt="Delta Squad" /></div>
    <div class="card-main">
      <h2 class="card-title">Delta Squad <span class="icon-font">|</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">assault</span>, <span class="squadron-keyword-token">grit</span>, <span class="squadron-keyword-token">heavy</span>, <span class="squadron-keyword-token">swarm</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>When you assign a raid token, you may discard 1 matching command token from the defender. You are not prevented from attacking ships while engaged with 2 or fewer squadrons.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="klick-17" data-name="klick" data-factions="republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/klick-v-wing-squadron-nexus.webp" alt="Klick" /></div>
    <div class="card-main">
      <h2 class="card-title">Klick <span class="icon-font">|</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">counter 2</span>, <span class="squadron-keyword-token">swarm</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>When you perform an attack with <span class="keyword-name">Counter</span> against a unique squadron, increase your <span class="keyword-name">Counter</span> by 1.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="quinlan-vos-18" data-name="quinlan vos" data-factions="republic" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/quinlan-vos-g9-rigger-class-freighter-nexus.webp" alt="Quinlan Vos" /></div>
    <div class="card-main">
      <h2 class="card-title">Quinlan Vos <span class="icon-font">|</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">dodge 1</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While deploying fleets, you count as deploying two squadrons.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="bo-katan-kryze-19" data-name="bo-katan kryze" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/bo-katan-kryze-mandalorian-gauntlet-fighter-scum-nexus.webp" alt="Bo-Katan Kryze" /></div>
    <div class="card-main">
      <h2 class="card-title">Bo-Katan Kryze <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">assault</span>, <span class="squadron-keyword-token">cloak</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking, if you are touching the defender&#39;s base, you may reroll up to 2 dice.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="boba-fett-20" data-name="boba fett" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/boba-fett-slave-i-scum-nexus.webp" alt="Boba Fett" /></div>
    <div class="card-main">
      <h2 class="card-title">Boba Fett <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>When you activate, choose 1 enemy ship or squadron at distance 1. That ship or squadron suffers 1 damage.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="bossk-21" data-name="bossk" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/bossk-hounds-tooth-scum-nexus.webp" alt="Bossk" /></div>
    <div class="card-main">
      <h2 class="card-title">Bossk <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">grit</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking, if you have 6 or fewer hull points remaining, you may add 1 blue die set to the <span class="icon-font">U</span> icon to your attack pool.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="captain-jostero-22" data-name="captain jostero" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/captain-jostero-kihraxz-fighter-squadron-scum-nexus.webp" alt="Captain Jostero" /></div>
    <div class="card-main">
      <h2 class="card-title">Captain Jostero <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">escort</span>, <span class="squadron-keyword-token">screen</span></span></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="dash-rendar-23" data-name="dash rendar" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/dash-rendar-outrider-scum-nexus.webp" alt="Dash Rendar" /></div>
    <div class="card-main">
      <h2 class="card-title">Dash Rendar <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking, you may reroll 1 die for each enemy squadron or enemy ship at distance 1.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="dengar-24" data-name="dengar" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/dengar-punishing-one-scum-nexus.webp" alt="Dengar" /></div>
    <div class="card-main">
      <h2 class="card-title">Dengar <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">intel</span>, <span class="squadron-keyword-token">swarm</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While another friendly squadron is at distance 1-2, it has <span class="keyword-name">Counter</span> 1 or increases its <span class="keyword-name">Counter</span> value by 1.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="din-djarin-25" data-name="din djarin" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/din-djarin-razor-crest-scum-nexus.webp" alt="Din Djarin" /></div>
    <div class="card-main">
      <h2 class="card-title">Din Djarin <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking, if there are no other friendly squadrons at distance 1 of you, you may reroll up to 2 of your dice.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="fenn-rau-26" data-name="fenn rau" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/fenn-rau-mandalorian-fang-fighter-squadron-scum-nexus.webp" alt="Fenn Rau" /></div>
    <div class="card-main">
      <h2 class="card-title">Fenn Rau <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">counter 2</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking, if the defender is at distance 1-3 from a friendly ship with the Mandalorian tag, you may change 1 die to any face.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="gar-saxon-27" data-name="gar saxon" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/gar-saxon-mandalorian-fang-fighter-squadron-scum-nexus.webp" alt="Gar Saxon" /></div>
    <div class="card-main">
      <h2 class="card-title">Gar Saxon <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">counter 2</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While a friendly &#39;Mandalorian&#39; squadron at distance 1 is attacking a squadron with <strong>adept</strong> or <strong>dodge</strong>, it may add 1 red die to a face with an <span class="icon-font">U</span> icon to its attack pool.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="greedo-28" data-name="greedo" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/greedo-manka-hunter-scum-nexus.webp" alt="Greedo" /></div>
    <div class="card-main">
      <h2 class="card-title">Greedo <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">grit</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>During the Ship Phase, when an enemy squadron at distance 1-3 would activate, you may toggle your activation slider to the activated side to immediately activate as if by a <span class="icon-font">8</span> command.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="guri-29" data-name="guri" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/guri-virago-scum-nexus.webp" alt="Guri" /></div>
    <div class="card-main">
      <h2 class="card-title">Guri <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">cloak</span>, <span class="squadron-keyword-token">grit</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>At the start of the squadron phase, you may activate as if activated by a <span class="icon-font">8</span> command.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="han-solo-30" data-name="han solo" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/han-solo-millennium-falcon-scum-nexus.webp" alt="Han Solo" /></div>
    <div class="card-main">
      <h2 class="card-title">Han Solo <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">grit</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>At the start of the Ship Phase, you may activate as if you were activated by a <span class="icon-font">8</span> command.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="hondo-ohnaka-31" data-name="hondo ohnaka" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/hondo-ohnaka-slave-i-scum-nexus.webp" alt="Hondo Ohnaka" /></div>
    <div class="card-main">
      <h2 class="card-title">Hondo Ohnaka <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">grit</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>During your activation, instead of attacking, you may toggle the activation slider of 1 squadron at distance 1 to the activated side. If it was already activated, you may place it anywhere at distance 1 of you.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="kad-solus-32" data-name="kad solus" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/kad-solus-mandalorian-fang-fighter-squadron-scum-nexus.webp" alt="Kad Solus" /></div>
    <div class="card-main">
      <h2 class="card-title">Kad Solus <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">counter 2</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>You ignore the <strong>dodge</strong> and <strong>escort</strong> keywords on enemy squadrons.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="kavil-33" data-name="kavil" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/kavil-ugly-squadrons-scum-nexus.webp" alt="Kavil" /></div>
    <div class="card-main">
      <h2 class="card-title">Kavil <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">escort</span>, <span class="squadron-keyword-token">swarm</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>When you overlap an obstacle, you may recover 1 hull.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="lando-calrissian-34" data-name="lando calrissian" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/lando-calrissian-millennium-falcon-scum-nexus.webp" alt="Lando Calrissian" /></div>
    <div class="card-main">
      <h2 class="card-title">Lando Calrissian <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">grit</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While attacking, you may discard a defense token to set 1 die to any face. That die cannot be modified again.</p><p>While defending you may spend 1 of your defense tokens to force the attacker to reroll 1 or more dice of your choice.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="maul-35" data-name="maul" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/maul-nightbrother-scum-nexus.webp" alt="Maul" /></div>
    <div class="card-main">
      <h2 class="card-title">Maul <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">assault</span>, <span class="squadron-keyword-token">cloak</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>This squadron counts as &#39;Mandalorian&#39;. For each other friendly &#39;Mandalorian&#39; squadron at distance 1, you gain adept 1, up to a maximum of adept 2.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="mezine-hinett-36" data-name="mezine hinett" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/mezine-hinett-silent-debt-scum-nexus.webp" alt="Mezine Hinett" /></div>
    <div class="card-main">
      <h2 class="card-title">Mezine Hinett <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">counter 1</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>While a friendly squadron with <strong>heavy</strong> at distance 1 is attacking a ship with one or more raid tokens, it may add 1 black die to its attack pool. If it does, it must choose and cancel 1 die.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="miktiss-37" data-name="miktiss" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/miktiss-gat-12-skipray-blastboat-scum-nexus.webp" alt="Miktiss" /></div>
    <div class="card-main">
      <h2 class="card-title">Miktiss <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">counter 2</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>After a ship at distance 1 performs a non-<strong>counter</strong> attack against you, you may attack that ship with a battery armament of 2 blue dice.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="nym-38" data-name="nym" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/nym-havoc-scum-nexus.webp" alt="Nym" /></div>
    <div class="card-main">
      <h2 class="card-title">Nym <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">grit</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>Blue <span class="icon-font">T</span> : If the defender is a ship, you may choose and discard 1 of its defense tokens.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="talonbane-cobra-39" data-name="talonbane cobra" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/talonbane-cobra-rihkxyrk-assault-squadron-scum-nexus.webp" alt="Talonbane Cobra" /></div>
    <div class="card-main">
      <h2 class="card-title">Talonbane Cobra <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">bomber</span>, <span class="squadron-keyword-token">grit</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>During your activation, instead of attacking, you may choose 1 friendly non-unique squadron at distance 1 and toggle its activation slider.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="the-armorer-40" data-name="the armorer" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/the-armorer-mandalorian-gauntlet-fighter-scum-nexus.webp" alt="The Armorer" /></div>
    <div class="card-main">
      <h2 class="card-title">The Armorer <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">assault</span>, <span class="squadron-keyword-token">cloak</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>Friendly &#39;Mandalorian&#39; squadrons at distance 1 with <strong>assault</strong> gain <strong>bomber</strong>.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="tyber-zann-41" data-name="tyber zann" data-factions="scum" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/tyber-zann-twilek-dancer-scum-nexus.webp" alt="Tyber Zann" /></div>
    <div class="card-main">
      <h2 class="card-title">Tyber Zann <span class="icon-font">{</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">dodge 1</span>, <span class="squadron-keyword-token">grit</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>When activated by a squadron command, you may place 1 proximity mine at distance 1 of you. If you do, you may not move or attack this activation. This mine must be placed beyond distance 1-2 of enemy ships.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="cad-bane-42" data-name="cad bane" data-factions="separatist" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/cad-bane-xanadu-blood-nexus.webp" alt="Cad Bane" /></div>
    <div class="card-main">
      <h2 class="card-title">Cad Bane <span class="icon-font">}</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">cloak</span>, <span class="squadron-keyword-token">counter 2</span>, <span class="squadron-keyword-token">rogue</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>When a squadron at distance 1-2 is destroyed, you may move up to distance 1, even if you are engaged.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article>
<hr class="card-divider" />

<article class="karm-card" id="kalani-43" data-name="kalani" data-factions="separatist" data-category="nexus-ace-squadrons" data-type="ace-squadron">
  <div class="card-top">
    <div class="card-image-wrap"><img class="card-image" src="https://images.swarmada.wiki/images/kalani-sheathipede-class-shuttle-nexus.webp" alt="Kalani" /></div>
    <div class="card-main">
      <h2 class="card-title">Kalani <span class="icon-font">}</span></h2>
      <div class="card-keywords squadron-keywords"><span class="card-keyword-label">Keywords:</span><span class="squadron-keyword-values"><span class="squadron-keyword-token">relay 2</span>, <span class="squadron-keyword-token">screen</span></span></div><div class="top-summary">
<div class="top-summary-block">
  <div class="top-summary-label">Card Text</div>
  <div class="top-summary-text"><p>At the start of the Squadron Phase, you may move up to distance 3 and toggle your activation slider to the activated side. If you do, the first 4 non-unique squadrons with <strong><span class="keyword-name">Ai</span></strong> that you activate at distance 1-2 of this squadron gain <strong>Rogue</strong> this phase.</p></div>
</div></div>
    </div>
  </div>
  <div class="card-bottom card-rulings"></div>
  
</article></div>
      
    </div>
    
    <script>
(function () {
  var searchInput = document.getElementById('karm-search-input');
  var filtersContainer = document.getElementById('karm-faction-filters');
  var noResults = document.getElementById('karm-no-results');
  var resultCount = document.getElementById('karm-result-count');
  if (!searchInput || !filtersContainer) return;

  var factionBtns = filtersContainer.querySelectorAll('.faction-btn[data-faction]');
  var allBtn = filtersContainer.querySelector('.faction-btn[data-faction="all"]');
  var factionKeys = ['rebel', 'empire', 'republic', 'separatist', 'neutral'];
  var activeFactions = new Set(factionKeys);

  function syncAllBtn() {
    if (allBtn) {
      if (activeFactions.size === factionKeys.length) {
        allBtn.classList.add('active');
      } else {
        allBtn.classList.remove('active');
      }
    }
  }

  function applyFilters() {
    var query = (searchInput.value || '').toLowerCase().trim();
    var cards = document.querySelectorAll('.karm-card');
    var dividers = document.querySelectorAll('.card-divider');
    var visibleCount = 0;
    var lastHeaderIdx = -1;
    var cardsAfterHeader = 0;
    var headerElements = [];
    var allFactions = activeFactions.size === factionKeys.length;

    for (var i = 0; i < cards.length; i++) {
      var card = cards[i];
      var isHeader = card.getAttribute('data-category') === 'header';

      if (isHeader) {
        if (lastHeaderIdx >= 0) {
          cards[lastHeaderIdx].classList.toggle('filtered-out', cardsAfterHeader === 0);
        }
        lastHeaderIdx = i;
        cardsAfterHeader = 0;
        continue;
      }

      var name = card.getAttribute('data-name') || '';
      var factions = (card.getAttribute('data-factions') || '').split(',').filter(Boolean);

      var matchesSearch = !query || name.indexOf(query) !== -1;
      var matchesFaction = allFactions || factions.length === 0 || factions.some(function (f) { return activeFactions.has(f.toLowerCase()); });
      var visible = matchesSearch && matchesFaction;

      card.classList.toggle('filtered-out', !visible);
      if (visible) {
        visibleCount++;
        cardsAfterHeader++;
      }
    }

    if (lastHeaderIdx >= 0) {
      cards[lastHeaderIdx].classList.toggle('filtered-out', cardsAfterHeader === 0);
    }

    for (var d = 0; d < dividers.length; d++) {
      var hr = dividers[d];
      var prev = hr.previousElementSibling;
      var next = hr.nextElementSibling;
      var hideDivider = (!prev || prev.classList.contains('filtered-out')) ||
                        (!next || next.classList.contains('filtered-out'));
      hr.classList.toggle('filtered-out', hideDivider);
    }

    if (noResults) {
      noResults.classList.toggle('visible', visibleCount === 0 && (query || !allFactions));
    }
    if (resultCount) {
      if (query || !allFactions) {
        resultCount.textContent = visibleCount + ' card' + (visibleCount !== 1 ? 's' : '') + ' found';
        resultCount.style.display = '';
      } else {
        resultCount.textContent = '';
        resultCount.style.display = 'none';
      }
    }
  }

  searchInput.addEventListener('input', applyFilters);

  filtersContainer.addEventListener('click', function (e) {
    var btn = e.target.closest('.faction-btn');
    if (!btn) return;
    var faction = btn.getAttribute('data-faction');

    if (faction === 'all') {
      if (activeFactions.size === factionKeys.length) {
        activeFactions.clear();
        factionBtns.forEach(function (b) { b.classList.remove('active'); });
      } else {
        factionKeys.forEach(function (f) { activeFactions.add(f); });
        factionBtns.forEach(function (b) { b.classList.add('active'); });
      }
    } else {
      if (activeFactions.has(faction)) {
        activeFactions.delete(faction);
        btn.classList.remove('active');
      } else {
        activeFactions.add(faction);
        btn.classList.add('active');
      }
    }
    syncAllBtn();
    applyFilters();
  });

  searchInput.addEventListener('keydown', function (e) {
    if (e.key === 'Escape') {
      searchInput.value = '';
      applyFilters();
    }
  });
})();
</script>
    <!-- Generated cards: 43 -->
  </body>
</html>